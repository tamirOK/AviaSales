### Описание проекта
В файле `via3.xml` лежат доступные билеты на маршрут из DXB в BKK на 22-23 октября 2018 года. Также в этом файле содержатся 
билеты для обратного перелета на 30-31 октября 2018 года. Перелеты бывают прямые и с пересадками. Билеты доступны только для взрослых.

В файле `viaow.xml` лежат доступные билеты на маршрут из DXB в BKK на 27-28 октября 2018 года, но только в одну сторону.
Перелеты бывают прямые и с пересадками. Билеты доступны для взрослых с детьми.

#### Схема хранения данных
- Таблица `Route` хранит основную информацию о маршруте.
- Таблица `Ticket` хранит информацию о билете.
- Один маршрут может состоять из нескольких билетов. Также несколько маршрутов могут содержать в себе один 
  и тот же билет. Для хранения связей используется таблица `connection`.

#### Описание API
- `localhost:5000/routes` - получает список всех маршрутов из DXB в BKK. Каждый маршрут содержит список перелетов(билетов)
в хронологическом порядке. 
 Можно задавать параметры:
   - `page` - номер страницы. По умолчанию равно 1. На странице отображается по 20 маршрутов.
   - `flight_type` - тип маршрутов. Возможные значения - `one_way`, `two_way`.  По умолчанию показываются только маршруты 
   в одну сторону.
   - `order_by` - в каком порядке сортировать маршруты. Возможные значения - `duration`, `price`. 
   Сортировка возможна по общей продолжительности маршрута, а также по стоимости маршрута для взрослого. По умолчанию
   сортирует по общей длительности маршрута.  
  
  Примеры запросов:
    * `http://localhost:5000/routes/?page=3&order_by=duration&flight_type=two_way`
    * `http://localhost:5000/routes/?page=2&flight_type=one_way`
    * `http://localhost:5000/routes/`
- `http://localhost:5000/routes/2` - получает информацию о конкретном маршруте.

#### Как запустить
```
docker build -t 'aviasales:dev' .
docker run --rm -p 5000:5000 aviasales:dev
```
При сборке docker образа срабатывает команда `flask populate-db`, которая сохранят данные в нужном формате 
из xml файлов в sqlite БД.

После запуска команд и их успешного завершения, можно делать запросы на `localhost:5000`.
